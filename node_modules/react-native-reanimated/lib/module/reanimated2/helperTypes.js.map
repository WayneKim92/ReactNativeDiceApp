{"version":3,"names":[],"sources":["helperTypes.ts"],"sourcesContent":["/*\nThis file is a legacy remainder of manual types from react-native-reanimated.d.ts file. \nI wasn't able to get rid of all of them from the code. \nThey should be treated as a temporary solution\nuntil time comes to refactor the code and get necessary types right. \nThis will not be easy though! \n*/\n\nimport type {\n  ImageStyle,\n  RegisteredStyle,\n  StyleProp,\n  TextStyle,\n  TransformsStyle,\n  ViewStyle,\n} from 'react-native';\nimport type { AnimatableValue, SharedValue } from './commonTypes';\nimport type { BaseAnimationBuilder } from './layoutReanimation/animationBuilder/BaseAnimationBuilder';\nimport type {\n  EntryExitAnimationFunction,\n  LayoutAnimationFunction,\n} from './layoutReanimation/animationBuilder/commonTypes';\nimport type { ReanimatedKeyframe } from './layoutReanimation/animationBuilder/Keyframe';\nimport type { SharedTransition } from './layoutReanimation/sharedTransitions';\nimport type { DependencyList } from './hook/commonTypes';\n\nexport type TransformArrayItem = Extract<\n  TransformsStyle['transform'],\n  Array<unknown>\n>[number];\n\nexport type AnimatedTransform = MaybeSharedValueRecursive<\n  TransformsStyle['transform']\n>;\n\ntype MaybeSharedValue<Value> = Value | Value extends AnimatableValue\n  ? SharedValue<Value>\n  : never;\n\ntype MaybeSharedValueRecursive<Value> = Value extends (infer Item)[]\n  ? SharedValue<Item[]> | (MaybeSharedValueRecursive<Item> | Item)[]\n  : Value extends object\n  ?\n      | SharedValue<Value>\n      | {\n          [Key in keyof Value]:\n            | MaybeSharedValueRecursive<Value[Key]>\n            | Value[Key];\n        }\n  : MaybeSharedValue<Value>;\n\ntype DefaultStyle = ViewStyle & ImageStyle & TextStyle;\n\n// Ideally we want AnimatedStyle to not be generic, but there are\n// so many depenedencies on it being generic that it's not feasible at the moment.\nexport type AnimatedStyle<Style = DefaultStyle> =\n  | Style\n  | MaybeSharedValueRecursive<Style>;\n\ntype EntryOrExitLayoutType =\n  | BaseAnimationBuilder\n  | typeof BaseAnimationBuilder\n  | EntryExitAnimationFunction\n  | ReanimatedKeyframe;\n\n/*\n  Style type properties (properties that extends StyleProp<ViewStyle>)\n  can be defined with other property names than \"style\". For example `contentContainerStyle` in FlatList.\n  Type definition for all style type properties should act similarly, hence we\n  pick keys with 'Style' substring with the use of this utility type.\n*/\ntype PickStyleProps<Props> = Pick<\n  Props,\n  {\n    [Key in keyof Props]-?: Key extends `${string}Style` | 'style'\n      ? Key\n      : never;\n  }[keyof Props]\n>;\n\ntype AnimatedStyleProps<Props extends object> = {\n  [Key in keyof PickStyleProps<Props>]: StyleProp<AnimatedStyle<Props[Key]>>;\n};\n\ntype NonStyleAnimatedProps<Props extends object> = {\n  [K in keyof Omit<Props, keyof PickStyleProps<Props> | 'style'>]:\n    | Props[K]\n    | SharedValue<Props[K]>;\n};\n\ntype LayoutProps = {\n  layout?:\n    | BaseAnimationBuilder\n    | LayoutAnimationFunction\n    | typeof BaseAnimationBuilder;\n  entering?: EntryOrExitLayoutType;\n  exiting?: EntryOrExitLayoutType;\n};\n\ntype SharedTransitionProps = {\n  sharedTransitionTag?: string;\n  sharedTransitionStyle?: SharedTransition;\n};\n\ntype AnimatedPropsProp<Props extends object> = NonStyleAnimatedProps<Props> &\n  AnimatedStyleProps<Props> &\n  LayoutProps &\n  SharedTransitionProps;\n\nexport type AnimatedProps<Props extends object> = NonStyleAnimatedProps<Props> &\n  AnimatedStyleProps<Props> &\n  LayoutProps &\n  SharedTransitionProps & {\n    animatedProps?: Partial<AnimatedPropsProp<Props>>;\n  };\n\nexport type AnimatedPropsAdapterFunction = (\n  props: Record<string, unknown>\n) => void;\n\nexport type useAnimatedPropsType = <Props extends object>(\n  updater: () => Partial<Props>,\n  deps?: DependencyList | null,\n  adapters?:\n    | AnimatedPropsAdapterFunction\n    | AnimatedPropsAdapterFunction[]\n    | null,\n  isAnimatedProps?: boolean\n) => Partial<Props>;\n\n// THE LAND OF THE DEPRECATED\n\n/**\n * @deprecated This type is no longer relevant.\n */\nexport type Adaptable<T> =\n  | T\n  | ReadonlyArray<T | ReadonlyArray<T>>\n  | SharedValue<T>;\n\n/**\n * @deprecated This type is no longer relevant.\n */\nexport type AdaptTransforms<T> = {\n  [P in keyof T]: Adaptable<T[P]>;\n};\n\n/**\n * @deprecated Please use `TransformArrayItem` type instead.\n */\nexport type TransformStyleTypes = TransformArrayItem;\n\n/**\n * @deprecated Please use `AnimatedStyle` type instead.\n */\nexport type AnimateStyle<Style = DefaultStyle> = AnimatedStyle<Style>;\n\n/**\n * @deprecated This type is no longer relevant.\n */\nexport type StylesOrDefault<T> = 'style' extends keyof T\n  ? MaybeSharedValueRecursive<T['style']>\n  : Record<string, unknown>;\n\n/**\n * @deprecated This type is no longer relevant.\n */\nexport type AnimatedStyleProp<T> =\n  | AnimatedStyle<T>\n  | RegisteredStyle<AnimatedStyle<T>>;\n\n/**\n * @deprecated Please use `AnimatedProps` type instead.\n */\nexport type AnimateProps<Props extends object> = AnimatedProps<Props>;\n"],"mappings":""}